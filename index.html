<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ora Laundry Service</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #eef2f6;
            overflow-x: hidden;
        }
        
        /* Background Pattern Generator using CSS */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.05;
            pointer-events: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-content: space-around;
            overflow: hidden;
        }
        
        .bg-icon {
            font-size: 4rem;
            color: #000;
            margin: 40px;
            transform: rotate(-15deg);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.5);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
        }

        .price-text {
            color: #dc2626; /* Red color from the flyer */
        }
        
        .free-delivery-text {
            color: #16a34a; /* Green color from the flyer */
        }

        /* Floating WhatsApp Button Styles */
        .whatsapp-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #25d366;
            color: #FFF;
            border-radius: 50%;
            text-align: center;
            font-size: 30px;
            box-shadow: 2px 2px 3px #999;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            transition: transform 0.3s, background-color 0.3s;
            text-decoration: none;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            background-color: #128c7e;
        }
    </style>
</head>
<body class="text-slate-700 antialiased relative">

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/message/3U2L5DIGXB2YA1?src=qr" class="whatsapp-float" target="_blank" aria-label="Chat on WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Background Pattern -->
    <div class="bg-pattern">
        <!-- Repeating icons to mimic the flyer wallpaper -->
        <i class="fas fa-tshirt bg-icon"></i>
        <i class="fas fa-soap bg-icon"></i>
        <i class="fas fa-layer-group bg-icon"></i>
        <i class="fas fa-tshirt bg-icon"></i>
        <i class="fas fa-soap bg-icon"></i>
        <i class="fas fa-layer-group bg-icon"></i>
        <i class="fas fa-tshirt bg-icon"></i>
        <i class="fas fa-soap bg-icon"></i>
        <i class="fas fa-layer-group bg-icon"></i>
        <i class="fas fa-tshirt bg-icon"></i>
        <i class="fas fa-soap bg-icon"></i>
        <i class="fas fa-layer-group bg-icon"></i>
        <i class="fas fa-tshirt bg-icon"></i>
        <i class="fas fa-soap bg-icon"></i>
        <i class="fas fa-layer-group bg-icon"></i>
        <i class="fas fa-tshirt bg-icon"></i>
        <i class="fas fa-soap bg-icon"></i>
        <i class="fas fa-layer-group bg-icon"></i>
        <i class="fas fa-tshirt bg-icon"></i>
        <i class="fas fa-soap bg-icon"></i>
    </div>

    <!-- Navigation -->
    <nav class="w-full p-6 z-20">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <img src="https://i.ibb.co/3sX8s0R/Ora-Laundry-Service-Logo.png" alt="Ora Laundry Service Logo" class="h-12 w-auto">
            </div>
            <a href="https://wa.me/message/3U2L5DIGXB2YA1?src=qr" class="hidden md:block bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-bold transition shadow-md">
                <i class="fab fa-whatsapp mr-2"></i> WhatsApp Us
            </a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-10 pb-10 text-center relative z-10">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-6xl font-bold text-slate-900 mb-2">
                Ora Laundry Service
            </h1>
            <p class="text-xl md:text-2xl text-gray-500 font-light mb-8">
                Tired of Laundry Day? Let Ora Handle It!
            </p>
            <div class="w-24 h-1 bg-slate-300 mx-auto rounded-full mb-8"></div>
            <h2 class="text-2xl font-bold text-slate-800">Packages:</h2>
        </div>
    </header>

    <!-- Pricing Section -->
    <section id="packages" class="pb-20 container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8 max-w-7xl mx-auto">
            
            <!-- Toddlers -->
            <div class="glass-card p-8 flex flex-col text-center relative">
                <h3 class="text-3xl font-bold text-slate-900 mb-2">Toddlers kids</h3>
                <div class="flex items-baseline justify-center gap-1 mb-6">
                    <span class="text-3xl font-bold price-text">R 199</span>
                    <span class="text-lg font-medium price-text">Per Month</span>
                </div>
                <ul class="space-y-3 text-gray-600 text-left inline-block mx-auto mb-8">
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> 1/2 Basket Weekly</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Wash & Dry</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Weekly Pickup</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Basic Detergent</li>
                </ul>
                <button onclick="openModal('Toddlers', '199')" class="mt-auto w-full py-3 border-2 border-slate-800 text-slate-800 font-bold rounded-xl hover:bg-slate-800 hover:text-white transition">Select</button>
            </div>

            <!-- Student -->
            <div class="glass-card p-8 flex flex-col text-center relative">
                <h3 class="text-3xl font-bold text-slate-900 mb-2">Student</h3>
                <div class="flex items-baseline justify-center gap-1 mb-6">
                    <span class="text-3xl font-bold price-text">R 249</span>
                    <span class="text-lg font-medium price-text">Per Month</span>
                </div>
                <ul class="space-y-3 text-gray-600 text-left inline-block mx-auto mb-8">
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> 1 Basket Weekly</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Uniform & Socks</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Wash & Dry</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Weekly Pickup</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Basic Detergent</li>
                </ul>
                <button onclick="openModal('Student', '249')" class="mt-auto w-full py-3 border-2 border-slate-800 text-slate-800 font-bold rounded-xl hover:bg-slate-800 hover:text-white transition">Select</button>
            </div>

            <!-- Basic -->
            <div class="glass-card p-8 flex flex-col text-center relative">
                <h3 class="text-3xl font-bold text-slate-900 mb-2">Basic</h3>
                <div class="flex items-baseline justify-center gap-1 mb-6">
                    <span class="text-3xl font-bold price-text">R 349</span>
                    <span class="text-lg font-medium price-text">Per Month</span>
                </div>
                <ul class="space-y-3 text-gray-600 text-left inline-block mx-auto mb-8">
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> 1 Basket Weekly</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Wash & Dry</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Weekly Pickup</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Basic Detergent</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Folding</li>
                </ul>
                <button onclick="openModal('Basic', '349')" class="mt-auto w-full py-3 border-2 border-slate-800 text-slate-800 font-bold rounded-xl hover:bg-slate-800 hover:text-white transition">Select</button>
            </div>

            <!-- Standard -->
            <div class="glass-card p-8 flex flex-col text-center relative border-2 border-slate-200 transform scale-105 z-10 shadow-xl">
                <div class="absolute top-0 right-0 bg-slate-800 text-white text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-lg">POPULAR</div>
                <h3 class="text-3xl font-bold text-slate-900 mb-2">Standard</h3>
                <div class="flex items-baseline justify-center gap-1 mb-6">
                    <span class="text-3xl font-bold price-text">R 549</span>
                    <span class="text-lg font-medium price-text">Per Month</span>
                </div>
                <ul class="space-y-3 text-gray-600 text-left inline-block mx-auto mb-8">
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> 2 Baskets Weekly</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Wash & Dry</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Weekly Pickup</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Premium Detergent</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Folding</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Ironing</li>
                </ul>
                <button onclick="openModal('Standard', '549')" class="mt-auto w-full py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-700 transition shadow-lg">Select</button>
            </div>

            <!-- Family -->
            <div class="glass-card p-8 flex flex-col text-center relative">
                <h3 class="text-3xl font-bold text-slate-900 mb-2">Family</h3>
                <div class="flex items-baseline justify-center gap-1 mb-6">
                    <span class="text-3xl font-bold price-text">R 849</span>
                    <span class="text-lg font-medium price-text">Per Month</span>
                </div>
                <ul class="space-y-3 text-gray-600 text-left inline-block mx-auto mb-8">
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> 3 Baskets Weekly</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Wash & Dry</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Weekly Pickup</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Premium Detergent</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Folding</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Ironing</li>
                </ul>
                <button onclick="openModal('Family', '849')" class="mt-auto w-full py-3 border-2 border-slate-800 text-slate-800 font-bold rounded-xl hover:bg-slate-800 hover:text-white transition">Select</button>
            </div>

            <!-- Premium -->
            <div class="glass-card p-8 flex flex-col text-center relative">
                <h3 class="text-3xl font-bold text-slate-900 mb-2">Premium</h3>
                <div class="flex items-baseline justify-center gap-1 mb-6">
                    <span class="text-3xl font-bold price-text">R 949</span>
                    <span class="text-lg font-medium price-text">Per Month</span>
                </div>
                <ul class="space-y-3 text-gray-600 text-left inline-block mx-auto mb-8">
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> 3 Baskets Weekly</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Wash, Dry, Iron</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Premium Detergent</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> <strong>Bedding</strong> (1/mo)</li>
                    <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> <strong>Shoes</strong> (1 pair/wk)</li>
                </ul>
                <button onclick="openModal('Premium', '949')" class="mt-auto w-full py-3 border-2 border-slate-800 text-slate-800 font-bold rounded-xl hover:bg-slate-800 hover:text-white transition">Select</button>
            </div>

            <!-- Deluxe -->
            <div class="glass-card p-8 flex flex-col text-center relative lg:col-span-3 xl:col-span-3 mt-4 bg-slate-50 border border-slate-200">
                <div class="absolute top-0 right-0 bg-amber-400 text-slate-900 text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-2xl">LUXURY</div>
                <h3 class="text-4xl font-bold text-slate-900 mb-2">Deluxe</h3>
                <div class="flex items-baseline justify-center gap-1 mb-6">
                    <span class="text-4xl font-bold price-text">R 1499</span>
                    <span class="text-xl font-medium price-text">Per Month</span>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left max-w-3xl mx-auto mb-8">
                    <ul class="space-y-3 text-gray-600">
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> 4 Baskets Weekly</li>
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Wash & Dry</li>
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Weekly Pickup</li>
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Premium Detergent</li>
                    </ul>
                    <ul class="space-y-3 text-gray-600">
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Ironing Included</li>
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> Folding</li>
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> <strong>Bedding/Blanket</strong> (1 set/wk)</li>
                        <li class="flex items-center gap-3"><span class="w-2 h-2 bg-slate-400 rounded-full"></span> <strong>Shoes Included</strong> (2 pairs/wk)</li>
                    </ul>
                </div>
                <button onclick="openModal('Deluxe', '1 499')" class="mx-auto w-full max-w-md py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-700 transition shadow-lg">Select Deluxe</button>
            </div>

        </div>
    </section>

    <!-- Footer / Contact Section -->
    <footer class="text-center py-12 relative z-10">
        <div class="container mx-auto px-4">
            <h2 class="text-2xl font-bold text-slate-900 mb-6">Contact</h2>
            
            <div class="flex flex-col items-center justify-center gap-2 mb-8">
                <a href="tel:0734194517" class="text-lg font-bold text-slate-800 hover:text-slate-600">
                    Call: 073 419 4517
                </a>
                <a href="https://wa.me/message/3U2L5DIGXB2YA1?src=qr" class="text-lg font-bold text-slate-800 hover:text-green-600 flex items-center gap-2">
                    <i class="fab fa-whatsapp"></i> WhatsApp: 084 791 6399
                </a>
            </div>

            <div class="free-delivery-text text-xl md:text-2xl font-bold">
                All Deliveries and Pickups are Free
            </div>
            <div class="mt-8 text-gray-400 text-xs">
                Â© 2023 Ora Laundry Service
            </div>
        </div>
    </footer>

    <!-- Booking Modal -->
    <div id="bookingModal" class="fixed inset-0 bg-slate-900 bg-opacity-60 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full transform transition-all scale-95 opacity-0" id="modalContent">
            <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Book <span id="modalPackageName" class="text-slate-600"></span></h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <div class="p-6">
                <p class="text-sm text-gray-500 mb-4">You are selecting the <span id="modalPackageText" class="font-bold text-gray-800"></span> package.</p>
                
                <!-- Add-ons Section -->
                <div class="mb-6 bg-slate-50 p-4 rounded-xl border border-slate-200">
                    <h4 class="text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide">Optional Add-ons</h4>
                    <div class="space-y-2 text-sm">
                        <label class="flex items-center justify-between p-2 hover:bg-white rounded-lg transition cursor-pointer">
                            <div class="flex items-center">
                                <input type="checkbox" class="addon-checkbox w-4 h-4 text-slate-900 rounded border-gray-300 focus:ring-slate-500" value="50" onchange="updateTotal()">
                                <span class="ml-2 text-slate-600">Add Folding</span>
                            </div>
                            <span class="font-semibold text-slate-800">+ R 50</span>
                        </label>
                        <label class="flex items-center justify-between p-2 hover:bg-white rounded-lg transition cursor-pointer">
                            <div class="flex items-center">
                                <input type="checkbox" class="addon-checkbox w-4 h-4 text-slate-900 rounded border-gray-300 focus:ring-slate-500" value="150" onchange="updateTotal()">
                                <span class="ml-2 text-slate-600">Add Ironing</span>
                            </div>
                            <span class="font-semibold text-slate-800">+ R 150</span>
                        </label>
                        <label class="flex items-center justify-between p-2 hover:bg-white rounded-lg transition cursor-pointer">
                            <div class="flex items-center">
                                <input type="checkbox" class="addon-checkbox w-4 h-4 text-slate-900 rounded border-gray-300 focus:ring-slate-500" value="150" onchange="updateTotal()">
                                <span class="ml-2 text-slate-600">Add Blanket/Bedding (1)</span>
                            </div>
                            <span class="font-semibold text-slate-800">+ R 150</span>
                        </label>
                        <label class="flex items-center justify-between p-2 hover:bg-white rounded-lg transition cursor-pointer">
                            <div class="flex items-center">
                                <input type="checkbox" class="addon-checkbox w-4 h-4 text-slate-900 rounded border-gray-300 focus:ring-slate-500" value="200" onchange="updateTotal()">
                                <span class="ml-2 text-slate-600">Add Shoes (4 pairs/mo)</span>
                            </div>
                            <span class="font-semibold text-slate-800">+ R 200</span>
                        </label>
                        <label class="flex items-center justify-between p-2 hover:bg-white rounded-lg transition cursor-pointer">
                            <div class="flex items-center">
                                <input type="checkbox" class="addon-checkbox w-4 h-4 text-slate-900 rounded border-gray-300 focus:ring-slate-500" value="200" onchange="updateTotal()">
                                <span class="ml-2 text-slate-600">Add Extra Basket (1)</span>
                            </div>
                            <span class="font-semibold text-slate-800">+ R 200</span>
                        </label>
                    </div>
                    <div class="mt-4 pt-3 border-t border-slate-200 flex justify-between items-center">
                        <span class="font-bold text-slate-700">Total Monthly:</span>
                        <span class="text-xl font-bold text-red-600">R <span id="modalTotalPrice">0</span></span>
                    </div>
                </div>

                <form onsubmit="submitForm(event)" class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Name</label>
                        <input type="text" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-slate-500">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Phone Number</label>
                        <input type="tel" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-slate-500">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">Address</label>
                        <textarea required rows="2" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-slate-500"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-slate-900 text-white font-bold py-3 rounded-lg hover:bg-slate-700 transition shadow-lg">Confirm Booking</button>
                </form>
            </div>
        </div>
    </div>

    <!-- NEW: Confirmation Modal -->
    <div id="confirmationModal" class="fixed inset-0 bg-slate-900 bg-opacity-60 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full text-center p-8 transform transition-all scale-95 opacity-0" id="confirmationModalContent">
            <div class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
                <i class="fas fa-check"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Ready to Go!</h3>
            <p class="text-gray-500 mb-6">Your Payment and WhatsApp tabs have opened. Please complete your payment and send the WhatsApp message.</p>
            <p class="text-sm text-gray-400 mb-4">If the payment tab didn't open, click below:</p>
            <a id="backupPayButton" href="#" target="_blank" class="w-full bg-slate-900 text-white font-bold py-3 rounded-lg hover:bg-slate-700 transition shadow-lg inline-block">
                Go to Payment
            </a>
        </div>
    </div>


    <script>
        // Modal Logic
        const modal = document.getElementById('bookingModal');
        const modalContent = document.getElementById('modalContent');
        const confirmationModal = document.getElementById('confirmationModal');
        const confirmationModalContent = document.getElementById('confirmationModalContent');
        const backupPayButton = document.getElementById('backupPayButton');
        let currentBasePrice = 0;
        
        function openModal(pkgName, priceString) {
            // Reset checkboxes
            document.querySelectorAll('.addon-checkbox').forEach(cb => cb.checked = false);
            
            // Parse price string (remove spaces, e.g., "1 499" -> 1499)
            const numericPrice = parseInt(priceString.replace(/\s/g, ''), 10);
            currentBasePrice = numericPrice;

            document.getElementById('modalPackageName').textContent = pkgName;
            document.getElementById('modalPackageText').textContent = pkgName;
            
            updateTotal(); // Initial calculation
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function updateTotal() {
            let total = currentBasePrice;
            const checkboxes = document.querySelectorAll('.addon-checkbox:checked');
            
            checkboxes.forEach(cb => {
                total += parseInt(cb.value, 10);
            });

            // Format with spaces for thousands (e.g., 1499 -> 1 499)
            document.getElementById('modalTotalPrice').textContent = total.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        }

        function closeModal() {
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        modal.addEventListener('click', function(e) {
            if (e.target === modal) closeModal();
        });

        // --- New Confirmation Modal Logic ---
        function openConfirmationModal(yocoLink) {
            backupPayButton.href = yocoLink;
            
            confirmationModal.classList.remove('hidden');
            setTimeout(() => {
                confirmationModalContent.classList.remove('scale-95', 'opacity-0');
                confirmationModalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
            
            // Auto-close this modal after 10 seconds
            setTimeout(() => {
                confirmationModalContent.classList.remove('scale-100', 'opacity-100');
                confirmationModalContent.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    confirmationModal.classList.add('hidden');
                }, 300);
            }, 10000);
        }
        // --- End of New Logic ---


        function submitForm(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const originalText = btn.textContent;
            
            btn.textContent = 'Processing...';
            btn.classList.add('opacity-75');

            // Gather Data
            const packageName = document.getElementById('modalPackageText').textContent;
            const totalPrice = document.getElementById('modalTotalPrice').textContent; // e.g., "1 499"
            
            // Get inputs (assuming order: Name, Phone, Address based on HTML structure)
            const inputs = e.target.querySelectorAll('input, textarea');
            const name = inputs[0].value;
            const phone = inputs[1].value;
            const address = inputs[2].value;

            // Get selected add-ons
            const addons = [];
            document.querySelectorAll('.addon-checkbox:checked').forEach(cb => {
                // Find the text label next to the checkbox
                const label = cb.nextElementSibling.textContent;
                addons.push(label);
            });

            // Construct Message
            let message = `*New Booking Request*\n\n`;
            message += `*Package:* ${packageName}\n`;
            message += `*Total Price:* R ${totalPrice}\n\n`;
            
            if (addons.length > 0) {
                message += `*Add-ons:*\n`;
                addons.forEach(addon => message += `- ${addon}\n`);
                message += `\n`;
            }

            message += `*Customer Details:*\n`;
            message += `Name: ${name}\n`;
            message += `Phone: ${phone}\n`;
            message += `Address: ${address}`;
            
            // --- NEW PAYMENT LOGIC ---
            
            // 1. Convert price to Rands (e.g., "1 499" -> "1499")
            const priceInRands = totalPrice.replace(/\s/g, '');

            // 2. Set your Yoco Payment Link here.
            const yocoBaseLink = "https://pay.yoco.com/oratile";
            
            // 3. Create the final Yoco URL with the amount pre-filled
            const yocoLink = `${yocoBaseLink}?amount=${priceInRands}`;

            // 4. Create the WhatsApp URL
            const whatsappUrl = `https://wa.me/27847916399?text=${encodeURIComponent(message)}`;

            // 5. Execute the NEW "Yoco first" process
            setTimeout(() => {
                // Step 1: Open Yoco in a new tab
                window.open(yocoLink, '_blank');
                
                // Step 2: Open WhatsApp in a second new tab
                window.open(whatsappUrl, '_blank');
                
                // Step 3: Close the booking modal
                closeModal();
                
                // Step 4: Open the confirmation modal (with backup link)
                openConfirmationModal(yocoLink);

                // Reset form and button
                e.target.reset();
                btn.textContent = originalText;
                btn.classList.remove('opacity-75');
            }, 1000);
        }
    </script>
</body>
</html>
